PUSHR RAX
PUSH 4
ADD
POPR RAX

PUSH 0
PUSHR RAX
PUSH -4
ADD
POPR RCX
POPM [RCX]

PUSH 0
PUSHR RAX
PUSH -3
ADD
POPR RCX
POPM [RCX]

PUSH 0
PUSHR RAX
PUSH -2
ADD
POPR RCX
POPM [RCX]

IN

PUSHR RAX
PUSH -4
ADD
POPR RCX
POPM [RCX]

IN

PUSHR RAX
PUSH -3
ADD
POPR RCX
POPM [RCX]

IN

PUSHR RAX
PUSH -2
ADD
POPR RCX
POPM [RCX]

PUSHR RAX
PUSH -2
ADD
POPR RCX
PUSHM [RCX]

PUSHR RAX
PUSH -3
ADD
POPR RCX
PUSHM [RCX]

PUSHR RAX
PUSH -4
ADD
POPR RCX
PUSHM [RCX]

CALL :nulla

PUSHR RAX
PUSH -2
ADD
POPR RCX
PUSHM [RCX]

PUSHR RAX
PUSH -3
ADD
POPR RCX
PUSHM [RCX]

PUSHR RAX
PUSH -4
ADD
POPR RCX
PUSHM [RCX]

CALL :discriminant

PUSHR RAX
PUSH -1
ADD
POPR RCX
POPM [RCX]

PUSHR RAX
PUSH -1
ADD
POPR RCX
PUSHM [RCX]

PUSHR RAX
PUSH -3
ADD
POPR RCX
PUSHM [RCX]

PUSHR RAX
PUSH -4
ADD
POPR RCX
PUSHM [RCX]

CALL :findroot1

PUSHR RAX
PUSH -1
ADD
POPR RCX
PUSHM [RCX]

PUSH 0
JE :else_0
PUSHR RAX
PUSH -1
ADD
POPR RCX
PUSHM [RCX]

PUSHR RAX
PUSH -3
ADD
POPR RCX
PUSHM [RCX]

PUSHR RAX
PUSH -4
ADD
POPR RCX
PUSHM [RCX]

CALL :findroot2

JMP :end_if_0
:else_0
:end_if_0
PUSHR RAX
PUSH 4
SUB
POPR RAX

HLT


:nulla
PUSHR RAX
PUSH 3
ADD
POPR RAX

PUSHR RAX
PUSH -3
ADD
POPR RCX
POPM [RCX]

PUSHR RAX
PUSH -2
ADD
POPR RCX
POPM [RCX]

PUSHR RAX
PUSH -1
ADD
POPR RCX
POPM [RCX]

PUSHR RAX
PUSH -3
ADD
POPR RCX
PUSHM [RCX]

PUSH 0
JNE :else_1
PUSHR RAX
PUSH -1
ADD
POPR RCX
PUSHM [RCX]

PUSHR RAX
PUSH -2
ADD
POPR RCX
PUSHM [RCX]

CALL :dolinear

JMP :end_if_1
:else_1
:end_if_1
PUSHR RAX
PUSH 3
SUB
POPR RAX

RET


:discriminant
PUSHR RAX
PUSH 4
ADD
POPR RAX

PUSHR RAX
PUSH -4
ADD
POPR RCX
POPM [RCX]

PUSHR RAX
PUSH -3
ADD
POPR RCX
POPM [RCX]

PUSHR RAX
PUSH -2
ADD
POPR RCX
POPM [RCX]

PUSHR RAX
PUSH -3
ADD
POPR RCX
PUSHM [RCX]

PUSHR RAX
PUSH -3
ADD
POPR RCX
PUSHM [RCX]

MUL

PUSH 4
PUSHR RAX
PUSH -4
ADD
POPR RCX
PUSHM [RCX]

PUSHR RAX
PUSH -2
ADD
POPR RCX
PUSHM [RCX]

MUL

MUL

SUB

PUSHR RAX
PUSH -1
ADD
POPR RCX
POPM [RCX]

PUSHR RAX
PUSH -1
ADD
POPR RCX
PUSHM [RCX]

CALL :checkdis

PUSHR RAX
PUSH -1
ADD
POPR RCX
PUSHM [RCX]

SQRT

PUSHR RAX
PUSH -1
ADD
POPR RCX
POPM [RCX]

PUSHR RAX
PUSH -1
ADD
POPR RCX
PUSHM [RCX]

PUSHR RAX
PUSH 4
SUB
POPR RAX
RET

PUSHR RAX
PUSH 4
SUB
POPR RAX

RET


:findroot1
PUSHR RAX
PUSH 4
ADD
POPR RAX

PUSHR RAX
PUSH -4
ADD
POPR RCX
POPM [RCX]

PUSHR RAX
PUSH -3
ADD
POPR RCX
POPM [RCX]

PUSHR RAX
PUSH -2
ADD
POPR RCX
POPM [RCX]

PUSH -1
PUSHR RAX
PUSH -3
ADD
POPR RCX
PUSHM [RCX]

MUL

PUSHR RAX
PUSH -2
ADD
POPR RCX
PUSHM [RCX]

ADD

PUSH 2
PUSHR RAX
PUSH -4
ADD
POPR RCX
PUSHM [RCX]

MUL

DIV

PUSHR RAX
PUSH -1
ADD
POPR RCX
POPM [RCX]

PUSHR RAX
PUSH -1
ADD
POPR RCX
PUSHM [RCX]

OUT

PUSHR RAX
PUSH 4
SUB
POPR RAX

RET


:findroot2
PUSHR RAX
PUSH 4
ADD
POPR RAX

PUSHR RAX
PUSH -4
ADD
POPR RCX
POPM [RCX]

PUSHR RAX
PUSH -3
ADD
POPR RCX
POPM [RCX]

PUSHR RAX
PUSH -2
ADD
POPR RCX
POPM [RCX]

PUSH -1
PUSHR RAX
PUSH -3
ADD
POPR RCX
PUSHM [RCX]

MUL

PUSHR RAX
PUSH -2
ADD
POPR RCX
PUSHM [RCX]

SUB

PUSH 2
PUSHR RAX
PUSH -4
ADD
POPR RCX
PUSHM [RCX]

MUL

DIV

PUSHR RAX
PUSH -1
ADD
POPR RCX
POPM [RCX]

PUSHR RAX
PUSH -1
ADD
POPR RCX
PUSHM [RCX]

OUT

PUSHR RAX
PUSH 4
SUB
POPR RAX

RET


:checkdis
PUSHR RAX
PUSH 1
ADD
POPR RAX

PUSHR RAX
PUSH -1
ADD
POPR RCX
POPM [RCX]

PUSHR RAX
PUSH -1
ADD
POPR RCX
PUSHM [RCX]

PUSH 0
JAE :else_2
PUSH 0
OUT

CALL :doout

JMP :end_if_2
:else_2
PUSHR RAX
PUSH -1
ADD
POPR RCX
PUSHM [RCX]

PUSH 0
JNE :else_3
PUSH 1
OUT

JMP :end_if_3
:else_3
PUSH 2
OUT

:end_if_3
:end_if_2
PUSHR RAX
PUSH 1
SUB
POPR RAX

RET


:dolinear
PUSHR RAX
PUSH 3
ADD
POPR RAX

PUSHR RAX
PUSH -3
ADD
POPR RCX
POPM [RCX]

PUSHR RAX
PUSH -2
ADD
POPR RCX
POPM [RCX]

PUSHR RAX
PUSH -3
ADD
POPR RCX
PUSHM [RCX]

PUSH 0
JNE :else_4
PUSHR RAX
PUSH -2
ADD
POPR RCX
PUSHM [RCX]

CALL :checkc

JMP :end_if_4
:else_4
PUSH 1
OUT

PUSH -1
PUSHR RAX
PUSH -2
ADD
POPR RCX
PUSHM [RCX]

MUL

PUSHR RAX
PUSH -3
ADD
POPR RCX
PUSHM [RCX]

DIV

PUSHR RAX
PUSH -1
ADD
POPR RCX
POPM [RCX]

PUSHR RAX
PUSH -1
ADD
POPR RCX
PUSHM [RCX]

OUT

CALL :doout

:end_if_4
PUSHR RAX
PUSH 3
SUB
POPR RAX

RET


:checkc
PUSHR RAX
PUSH 1
ADD
POPR RAX

PUSHR RAX
PUSH -1
ADD
POPR RCX
POPM [RCX]

PUSHR RAX
PUSH -1
ADD
POPR RCX
PUSHM [RCX]

PUSH 0
JNE :else_5
PUSH 12345678
OUT

CALL :doout

JMP :end_if_5
:else_5
PUSH 0
OUT

CALL :doout

:end_if_5
PUSHR RAX
PUSH 1
SUB
POPR RAX

RET


:doout
PUSHR RAX
PUSH 0
ADD
POPR RAX

HLT

PUSHR RAX
PUSH 0
SUB
POPR RAX

RET

